"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[592],{9286:(O,u,t)=>{t.d(u,{g:()=>E});var h=t(8634),n=t(5623),f=t(1813),i=t(1105),g=t(7376),o=t(5130),c=t(6974);function p(S,_){return _?a=>(0,n.z)(_.pipe((0,f.q)(1),(0,i.l)()),a.pipe(p(S))):(0,o.z)((a,D)=>(0,c.Xf)(S(a,D)).pipe((0,f.q)(1),(0,g.h)(a)))}var v=t(553);function E(S,_=h.z){const a=(0,v.H)(S,_);return p(()=>a)}},6646:(O,u,t)=>{t.d(u,{AV:()=>i,Kq:()=>g,R_:()=>o});var h=t(5301);const n=c=>(0,h.P1)(f,c),f=(0,h.ZF)("nodes"),i=n(c=>c.overview),g=n(c=>c.bootstrap),o=n(c=>c.live)},3274:(O,u,t)=>{t.d(u,{b:()=>_});var h=t(319),n=t(2425),f=t(7560),i=t(1209),g=t(4314),o=t(4430),c=t(7264),p=function(a){return a.PENDING="pending",a.LOADING="loading",a.SUCCESS="success",a}(p||{}),v=t(4148),E=t(755),S=t(2939);let _=(()=>{class a{constructor(s){this.http=s}getNodes(){return(0,h.D)(v.kh.configs.map(l=>this.getNodeTips({url:l.url,name:l.name},"?limit=1"))).pipe((0,n.U)(l=>l.map(m=>m[0])))}getNodeTips(s,l=""){return this.http.get(s.url+"/stats/sync"+l).pipe((0,n.U)(m=>m.map(e=>{const d=e.blocks.map(r=>({globalSlot:r.global_slot,height:r.height,hash:r.hash,predHash:r.pred_hash,status:r.status,fetchStart:r.fetch_start,fetchEnd:r.fetch_end,applyStart:r.apply_start,applyEnd:r.apply_end,fetchDuration:this.getDuration(r.fetch_start,r.fetch_end),applyDuration:this.getDuration(r.apply_start,r.apply_end)}));return d.length&&(d[0].isBestTip=!0),{name:s.name,kind:(0,o.hasValue)(e.synced)?g.H.SYNCED:e.kind,bestTipReceived:(0,o.toReadableDate)(e.best_tip_received/o.ONE_MILLION),bestTipReceivedTimestamp:e.best_tip_received/o.ONE_MILLION,bestTip:e.blocks[0]?.hash,height:e.blocks[0]?.height,globalSlot:e.blocks[0]?.global_slot,appliedBlocks:e.blocks.filter(r=>r.status===c.V.APPLIED).length,applyingBlocks:e.blocks.filter(r=>r.status===c.V.APPLYING).length,missingBlocks:e.blocks.filter(r=>r.status===c.V.MISSING).length,fetchedBlocks:e.blocks.filter(r=>r.status===c.V.FETCHED).length,fetchingBlocks:e.blocks.filter(r=>r.status===c.V.FETCHING).length,ledgers:this.getLedgers(e.ledgers),blocks:d}})),(0,f.K)(m=>(0,i.of)([{name:s.name,kind:g.H.OFFLINE,bestTipReceived:"-",bestTipReceivedTimestamp:0,bestTip:"-",height:void 0,globalSlot:0,appliedBlocks:0,applyingBlocks:0,missingBlocks:0,fetchedBlocks:0,fetchingBlocks:0,ledgers:this.getLedgers({}),blocks:[]}])))}getLedgers(s){const l={},m=e=>{const d={state:this.hasAllStepsCompleted(e)?p.SUCCESS:this.noneOfStepsCompleted(e)?p.PENDING:p.LOADING,snarked:{fetchHashesStart:e.snarked.fetch_hashes_start,fetchHashesEnd:e.snarked.fetch_hashes_end,fetchAccountsStart:e.snarked.fetch_accounts_start,fetchAccountsEnd:e.snarked.fetch_accounts_end,fetchHashesDuration:this.getDuration(e.snarked.fetch_hashes_start,e.snarked.fetch_hashes_end),fetchAccountsDuration:this.getDuration(e.snarked.fetch_accounts_start,e.snarked.fetch_accounts_end)},staged:{fetchPartsStart:e.staged.fetch_parts_start,fetchPartsEnd:e.staged.fetch_parts_end,reconstructStart:e.staged.reconstruct_start,reconstructEnd:e.staged.reconstruct_end,fetchPartsDuration:this.getDuration(e.staged.fetch_parts_start,e.staged.fetch_parts_end),reconstructDuration:this.getDuration(e.staged.reconstruct_start,e.staged.reconstruct_end)}};return d.totalTime=d.snarked.fetchHashesDuration+d.snarked.fetchAccountsDuration+d.staged.fetchPartsDuration+d.staged.reconstructDuration,d};return s.staking_epoch&&(l.stakingEpoch=m(s.staking_epoch)),s.next_epoch&&(l.nextEpoch=m(s.next_epoch)),s.root&&(l.root=m(s.root)),l}getDuration(s,l){return l&&s?(l-s)/o.ONE_BILLION:null}hasAllStepsCompleted(s){return!!(s.snarked.fetch_hashes_end&&s.snarked.fetch_accounts_end&&s.staged.fetch_parts_end&&s.staged.reconstruct_end)}noneOfStepsCompleted(s){return!(s.snarked.fetch_hashes_start||s.snarked.fetch_accounts_start||s.staged.fetch_parts_start||s.staged.reconstruct_start)}static#t=this.\u0275fac=function(l){return new(l||a)(E.LFG(S.eN))};static#s=this.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},7049:(O,u,t)=>{t.d(u,{ab:()=>g,ay:()=>i});var h=t(5301);const n=o=>(0,h.P1)(f,o),f=(0,h.ZF)("snarks"),i=n(o=>o.workPool),g=n(o=>o.scanState)},3986:(O,u,t)=>{t.d(u,{B:()=>g});var h=t(8239),n=t(8604),f=t(4430),i=t(755);let g=(()=>{class o extends f.MinaTableWrapper{ngOnInit(){var p=()=>super.ngOnInit,v=this;return(0,h.Z)(function*(){yield p().call(v),v.select(n.L0,E=>{v.checkViewport(E.isMobile)})})()}static#t=this.\u0275fac=function(){let p;return function(E){return(p||(p=i.n5z(o)))(E||o)}}();static#s=this.\u0275dir=i.lG2({type:o,features:[i.qOj]})}return o})()},8377:(O,u,t)=>{t.d(u,{_E:()=>E});var h=t(7560),n=t(453),f=t(6142),i=t(134),g=t(6974),o=t(553),p=t(4643),v=t(4430);const E=(a,D,s)=>l=>l.pipe((0,h.K)(m=>[S(m,a),{type:D,payload:s}]),function c(a){let s,D=1/0;return null!=a&&("object"==typeof a?({count:D=1/0,delay:s}=a):D=a),D<=0?()=>n.E:(0,f.e)((l,m)=>{let d,e=0;const r=()=>{if(d?.unsubscribe(),d=null,null!=s){const P="number"==typeof s?(0,o.H)(s):(0,g.Xf)(s(e)),M=(0,i.x)(m,()=>{M.unsubscribe(),I()});P.subscribe(M)}else I()},I=()=>{let P=!1;d=l.subscribe((0,i.x)(m,void 0,()=>{++e<D?d?r():P=!0:m.complete()})),P&&r()};I()})}()),S=(a,D)=>(console.error(a),{type:p.Lk,payload:{type:D,message:a.message,status:a.status?`${a.status} ${a.statusText}`:void 0,timestamp:(0,v.toReadableDate)(Number(Date.now()),"HH:mm:ss"),seen:!1}})},6208:(O,u,t)=>{t.d(u,{m:()=>o});var h=t(3226),n=t(4430),f=t(6733),i=t(755);const g=[f.ez,n.OpenminaEagerSharedModule,n.OpenminaSharedModule,h.UX];let o=(()=>{class c{static#t=this.\u0275fac=function(E){return new(E||c)};static#s=this.\u0275mod=i.oAB({type:c});static#e=this.\u0275inj=i.cJS({imports:[g,f.ez,n.OpenminaEagerSharedModule,n.OpenminaSharedModule,h.UX]})}return c})()},4314:(O,u,t)=>{t.d(u,{H:()=>h});var h=function(n){return n.BOOTSTRAP="Bootstrap",n.CATCHUP="Catchup",n.SYNCED="Synced",n.OFFLINE="Offline",n}(h||{})}}]);